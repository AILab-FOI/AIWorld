<html><head></head><body><dom-module id="view-signedin"><template><style>:host{--app-primary-color:#4285f4;--app-secondary-color:black;background-image:url('../images/background.jpg');background-size:100% 100%;@apply (--layout-vertical);@apply (--layout-center-center);min-height:100vh;}#menu{@apply (--layout-horizontal);@apply (--layout-justified);width:680px;}iron-pages{width:960px;}app-drawer-layout:not([narrow]) [drawer-toggle]{display:none;}app-header-layout{background-color:var(--paper-grey-50);}app-toolbar#main{@apply (--layout-horizontal);@apply (--layout-end-justified);background-color:white;color:black;}app-toolbar#main span{font-size:16px;opacity:0.54;margin:0 8px;}app-toolbar div{@apply (--layout-horizontal);@apply (--layout-center);}#content{@apply (--layout-vertical);@apply (--layout-center);}img#logo{height:50px;width:114px;}.person{border-radius:50%;height:25px;}button{text-transform:uppercase;background-color:rgba(218, 213, 148, 0.6);color:white;font-size:16px;font-weight:800;border:1px solid black;padding:8px;}button:hover{background-color:black;border:rgba(218, 213, 148, 0.6);}img.minilogo{height:50px;}app-drawer{--app-drawer-content-container:{background-color:#2C323A;};}</style><app-localstorage-document key="cryptollowSession" data="{{authSession}}"></app-localstorage-document><app-location route="{{route}}"></app-location><app-route route="{{route}}" pattern="/:page" data="{{routeData}}" tail="{{subroute}}"></app-route><iron-ajax id="ajaxGetServer" last-response="{{serverData}}" on-error="_logOut"></iron-ajax><iron-ajax id="ajaxGetPlayers" last-response="{{players}}" on-error="_logOut"></iron-ajax><iron-ajax id="ajaxGetBanks" last-response="{{banks}}" on-error="_logOut"></iron-ajax><img src="./images/logo.png"><div id="menu"><a href="/"><button>News</button></a> <a href="/players/"><button>Players</button></a> <a href="/banks/"><button>Banks</button></a> <a href="/server/"><button>Server</button></a> <a target="a_blank " href="https://github.com/samuelcardillo/MMORPGMaker-MV/wiki"><button>Help</button></a></div><div id="content"><iron-pages selected="[[page]]" attr-for-selected="name" fallback-selection="view404" role="main"><signedin-dashboard auth-session="{{authSession}}" server-data="{{serverData}}" name="dashboard"></signedin-dashboard><signedin-players auth-session="{{authSession}}" server-data="{{serverData}}" players="{{players}}" name="players"></signedin-players><signedin-banks auth-session="{{authSession}}" server-data="{{serverData}}" banks="{{banks}}" name="banks"></signedin-banks><signedin-server auth-session="{{authSession}}" server-data="{{serverData}}" name="server"></signedin-server></iron-pages></div><a target="a_blank" href="https://discord.gg/GVqyAwp"><img class="minilogo" src="./images/discord.png"></a><paper-toast duration="10000"></paper-toast><paper-dialog modal=""><h2>{{modalTitle}}</h2><span style="font-size: 12px;">{{modalMessage}}</span><div class="buttons" style="padding: 0px !important;"><vaadin-button dialog-confirm="" autofocus="">Ok</vaadin-button></div></paper-dialog></template><script>var ViewSignedIn=function(_Polymer$Element){babelHelpers.inherits(ViewSignedIn,_Polymer$Element);function ViewSignedIn(){babelHelpers.classCallCheck(this,ViewSignedIn);return babelHelpers.possibleConstructorReturn(this,(ViewSignedIn.__proto__||Object.getPrototypeOf(ViewSignedIn)).apply(this,arguments))}babelHelpers.createClass(ViewSignedIn,[{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(ViewSignedIn.prototype.__proto__||Object.getPrototypeOf(ViewSignedIn.prototype),"connectedCallback",this).call(this);this._loadServerDetails();this._loadPlayers();this._loadBanks();document.addEventListener("reload-server",function(){this._loadServerDetails()}.bind(this));document.addEventListener("reload-players",function(){this._loadPlayers()}.bind(this));document.addEventListener("reload-banks",function(){this._loadBanks()}.bind(this));this._isAdmin=99<=this.authSession.permission?!0:!1}},{key:"_loadServerDetails",value:function _loadServerDetails(){var ironAjax=Polymer.dom(this.root).querySelector("#ajaxGetServer");ironAjax.method="GET";ironAjax.url=window.projectUrl+"/api/admin/server/";ironAjax.headers={"X-Access-Token":this.authSession.token,"X-Socket-ID":window.socket.id};ironAjax.generateRequest()}},{key:"_loadPlayers",value:function _loadPlayers(){var ironAjax=Polymer.dom(this.root).querySelector("#ajaxGetPlayers");ironAjax.method="GET";ironAjax.url=window.projectUrl+"/api/admin/players/";ironAjax.headers={"X-Access-Token":this.authSession.token,"X-Socket-ID":window.socket.id};ironAjax.generateRequest()}},{key:"_loadBanks",value:function _loadBanks(){var ironAjax=Polymer.dom(this.root).querySelector("#ajaxGetBanks");ironAjax.method="GET";ironAjax.url=window.projectUrl+"/api/admin/banks/";ironAjax.headers={"X-Access-Token":this.authSession.token,"X-Socket-ID":window.socket.id};ironAjax.generateRequest()}},{key:"_logOut",value:function _logOut(){this.dispatchEvent(new CustomEvent("sign-out",{bubbles:!0,composed:!0}))}},{key:"_routePageChanged",value:function _routePageChanged(page){if(page===void 0){return}this.page=page||"dashboard"}},{key:"_pageChanged",value:function _pageChanged(page){var resolvedPageUrl=this.resolveUrl("signedin/signedin-"+page+".html");Polymer.importHref(resolvedPageUrl,null,this._showPage404.bind(this),!0)}},{key:"_showPage404",value:function _showPage404(){this.page="view404"}}],[{key:"is",get:function get(){return"view-signedin"}},{key:"properties",get:function get(){return{page:{type:String,reflectToAttribute:!0,observer:"_pageChanged"},serverData:{type:Object,value:{},notify:!0},rootPattern:String,routeData:Object,subroute:String}}},{key:"observers",get:function get(){return["_routePageChanged(routeData.page)"]}}]);return ViewSignedIn}(Polymer.Element);window.customElements.define(ViewSignedIn.is,ViewSignedIn);</script></dom-module></body></html>